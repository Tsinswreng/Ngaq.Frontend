<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    android:installLocation="auto"
    xmlns:tools="http://schemas.android.com/tools"> <!-- 新增tools命名空间，用于权限冲突处理 -->

    <!-- 基础网络权限（保留原有的） -->
    <uses-permission android:name="android.permission.INTERNET" />

    <!-- 1. 读写外部存储基础权限（Android 10+ 仍需声明） -->
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"
        tools:remove="android:maxSdkVersion" /> <!-- 移除可能的版本限制 -->

    <!-- 2. Android 11+ 访问所有文件的特殊权限（如需突破分区存储限制） -->
    <uses-permission android:name="android.permission.MANAGE_EXTERNAL_STORAGE" />

<!-- 3. 兼容 Android 10（API 29）：临时关闭分区存储限制 -->
<!-- 4. 声明应用支持的最小/目标SDK（建议添加，明确版本范围） -->
    <application
        android:label="Ngaq.Ui"
        android:icon="@drawable/Icon"

        android:requestLegacyExternalStorage="true"

        android:minSdkVersion="21"
        android:targetSdkVersion="33">
    </application>
</manifest>
